start: kill install # start application
  bash -c 'trap "loading fin" EXIT; loading; tmex phoenix -qd "mix phx.server"; sleep 5'
  run open
  run logs

kill: # kill application
  pkill -f phx.server || true # ignore errors
  tmex phoenix --kill --quiet

open: # open client
  open http://localhost:4000

logs: # attach to server
  tmex phoenix --reattach

repl: compile # start interactive shell
  iex -S mix

compile: # recompile files on change in background
  tmex mix-compile --kill --quiet
  tmex mix-compile --detached 'git ls-files | entr mix compile'

test: # run tests
  mix test

format: # format
  mix format

seed: # insert test data into database
  mix run priv/repo/seeds.exs

clean: # remove dependencies and build files
  rm -rf _build deps

install: # install dependencies
  mix deps.get
  mix compile.rambo # needed for FilterFormatter package

reinstall: clean install # reinstall dependencies from scratch
restart: reinstall start # restart application after reinstalling dependencies
